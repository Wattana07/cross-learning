# üìã ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ System Logs - ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Logs ‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å

## üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà Logs ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å

### ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å Log:
- **ID**: UUID ‡∏Ç‡∏≠‡∏á log entry
- **User ID**: ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡∏ó‡∏≥ action (null ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô system)
- **Action**: ‡∏ä‡∏ô‡∏¥‡∏î‡∏Ç‡∏≠‡∏á action (‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á)
- **Resource Type**: ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏≠‡∏á resource (‡πÄ‡∏ä‡πà‡∏ô 'user', 'episode', 'booking')
- **Resource ID**: ID ‡∏Ç‡∏≠‡∏á resource ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á
- **Details**: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (JSON format)
- **Status**: success, error, warning, info
- **Error Message**: ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° error (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
- **IP Address**: IP address ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
- **User Agent**: Browser/Device info
- **Created At**: ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å log

---

## üìù ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Log Actions ‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö

### üîê Authentication (‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏±‡∏ß‡∏ï‡∏ô)
- **`user_login`** - ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô
- **`user_logout`** - ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏≠‡∏≤‡∏ó‡πå

### üë• User Management (‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ)
- **`user_create`** - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏´‡∏°‡πà ‚úÖ (‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß)
- **`user_update`** - ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
- **`user_delete`** - ‡∏•‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
- **`user_activate`** - ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
- **`user_deactivate`** - ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ

### üìö Content Management (‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤)
- **`category_create`** - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà
- **`category_update`** - ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà
- **`category_delete`** - ‡∏•‡∏ö‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà
- **`subject_create`** - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ß‡∏¥‡∏ä‡∏≤
- **`subject_update`** - ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ß‡∏¥‡∏ä‡∏≤
- **`subject_delete`** - ‡∏•‡∏ö‡∏ß‡∏¥‡∏ä‡∏≤
- **`episode_create`** - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
- **`episode_update`** - ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
- **`episode_delete`** - ‡∏•‡∏ö‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô

### üìñ Learning Activities (‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô)
- **`episode_watch`** - ‡∏î‡∏π‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
- **`episode_complete`** - ‡∏à‡∏ö‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô

### üè¢ Room Booking (‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°)
- **`booking_create`** - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
- **`booking_update`** - ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
- **`booking_cancel`** - ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
- **`booking_approve`** - ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
- **`booking_reject`** - ‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á

### üè† Room Management (‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°)
- **`room_create`** - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°
- **`room_update`** - ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°
- **`room_delete`** - ‡∏•‡∏ö‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°

### üèÜ Points & Rewards (‡πÅ‡∏ï‡πâ‡∏°‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•)
- **`points_award`** - ‡πÉ‡∏´‡πâ‡πÅ‡∏ï‡πâ‡∏°
- **`points_deduct`** - ‡∏´‡∏±‡∏Å‡πÅ‡∏ï‡πâ‡∏°

### üîß System (‡∏£‡∏∞‡∏ö‡∏ö)
- **`system_error`** - ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö
- **`api_call`** - ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API
- **`file_upload`** - ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå
- **`file_delete`** - ‡∏•‡∏ö‡πÑ‡∏ü‡∏•‡πå

---

## üìà ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á Logs

### 1. User Create (Success)
```json
{
  "action": "user_create",
  "status": "success",
  "resource_type": "user",
  "resource_id": "123e4567-e89b-12d3-a456-426614174000",
  "details": {
    "email": "user@example.com",
    "fullName": "John Doe",
    "role": "learner",
    "department": "IT"
  },
  "user_id": "admin-user-id",
  "ip_address": "192.168.1.1",
  "created_at": "2025-01-15T10:30:00Z"
}
```

### 2. User Create (Error)
```json
{
  "action": "user_create",
  "status": "error",
  "error_message": "‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö",
  "details": {
    "email": "existing@example.com"
  },
  "user_id": "admin-user-id",
  "ip_address": "192.168.1.1",
  "created_at": "2025-01-15T10:35:00Z"
}
```

### 3. Episode Complete
```json
{
  "action": "episode_complete",
  "status": "success",
  "resource_type": "episode",
  "resource_id": "episode-uuid",
  "details": {
    "episode_title": "Introduction to React",
    "points_earned": 10
  },
  "user_id": "learner-user-id",
  "ip_address": "192.168.1.2",
  "created_at": "2025-01-15T11:00:00Z"
}
```

### 4. Booking Create
```json
{
  "action": "booking_create",
  "status": "success",
  "resource_type": "booking",
  "resource_id": "booking-uuid",
  "details": {
    "room_name": "Meeting Room A",
    "start_at": "2025-01-20T09:00:00Z",
    "end_at": "2025-01-20T10:00:00Z"
  },
  "user_id": "user-id",
  "ip_address": "192.168.1.3",
  "created_at": "2025-01-15T12:00:00Z"
}
```

### 5. System Error
```json
{
  "action": "system_error",
  "status": "error",
  "error_message": "Failed to fetch data from API",
  "details": {
    "endpoint": "/api/users",
    "status_code": 500
  },
  "user_id": null,
  "ip_address": "192.168.1.1",
  "created_at": "2025-01-15T13:00:00Z"
}
```

---

## üîç ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Logs

1. **‡∏ï‡∏≤‡∏° User**: ‡∏î‡∏π logs ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ô‡πÉ‡∏î‡∏Ñ‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á
2. **‡∏ï‡∏≤‡∏° Action**: ‡πÄ‡∏ä‡πà‡∏ô ‡∏î‡∏π logs ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
3. **‡∏ï‡∏≤‡∏° Status**: ‡∏î‡∏π‡πÄ‡∏â‡∏û‡∏≤‡∏∞ errors, warnings, ‡∏´‡∏£‡∏∑‡∏≠ success
4. **‡∏ï‡∏≤‡∏° Resource**: ‡∏î‡∏π logs ‡∏Ç‡∏≠‡∏á resource ‡πÉ‡∏î resource ‡∏´‡∏ô‡∏∂‡πà‡∏á
5. **‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤**: ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
6. **‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤**: ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≤‡∏Å action, user name, error message

---

## üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Logs

- **Logs ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á)**: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô logs ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
- **Errors**: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô errors ‡πÉ‡∏ô 24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
- **Success**: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô success logs
- **Warnings**: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô warning logs

---

## ‚úÖ Logs ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà

‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å logs ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:
- ‚úÖ **User Create** - ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏´‡∏£‡∏∑‡∏≠‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß
- ‚è≥ **‡∏≠‡∏∑‡πà‡∏ô‡πÜ** - ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏° logger (‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)

---

## üöÄ ‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° Logging ‡πÉ‡∏ô‡∏à‡∏∏‡∏î‡∏≠‡∏∑‡πà‡∏ô‡πÜ

‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏° logger ‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÑ‡∏î‡πâ‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:

```typescript
import { logger } from '@/lib/logger'

// ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
await logger.success('user_login', {
  details: { email: user.email }
})

// ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏ö‡∏ö‡∏ó‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
await logger.success('episode_complete', {
  resourceType: 'episode',
  resourceId: episodeId,
  details: { points_earned: 10 }
})

// ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏¥‡∏î error
await logger.error('system_error', {
  errorMessage: error.message,
  details: { context: 'fetching data' }
})
```

---

## üìç ‡∏´‡∏ô‡πâ‡∏≤ Logs: `/admin/logs`

‡πÅ‡∏™‡∏î‡∏á:
- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á logs ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- Filters (Status, Action, Search)
- ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ (24 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î)
- Pagination
- ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î: Time, Status, Action, User, Resource, Details

